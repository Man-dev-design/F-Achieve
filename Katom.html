<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö. –ê—Ç–æ–º | –ß–∞—Ç-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
    }
  </style>
</head>
<body class="bg-gray-900 text-white h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-gray-800 p-4 shadow flex items-center justify-between">
    <div class="flex items-center gap-3">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/detective.png" class="h-8 w-8" />
      <div>
        <h1 class="text-lg font-bold">–î–µ—Ç–µ–∫—Ç–∏–≤ –ö. –ê—Ç–æ–º</h1>
        <p class="text-sm text-gray-400">–û–Ω–ª–∞–π–Ω ‚Ä¢ F-Achieve</p>
      </div>
    </div>
    <button id="reset" class="text-sm text-blue-400 hover:underline">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É</button>
  </header>

  <!-- Chat -->
  <main id="chat" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-900"></main>

  <!-- Input Area -->
  <form id="chat-form" class="bg-gray-800 p-4 flex gap-3 items-center">
    <input 
      type="text" 
      id="user-input" 
      placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
      class="flex-1 p-2 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none"
      required
    >
    <button type="submit" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

  <!-- Script -->
  <script>
    const chat = document.getElementById('chat');
    const form = document.getElementById('chat-form');
    const input = document.getElementById('user-input');
    const reset = document.getElementById('reset');

    const password1 = "2001";
    const password2 = "–≠–±–∏–≥–µ–π–ª";
    const password3 = "23";

    let step = 0;
    let nameOK = false;

    function addMessage(text, sender = 'bot') {
      const msg = document.createElement('div');
      msg.className = `max-w-xs p-3 rounded-lg text-sm whitespace-pre-line ${
        sender === 'user' ? 'bg-blue-600 self-end ml-auto' : 'bg-gray-700'
      }`;
      msg.textContent = text;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }

    function startConversation() {
      chat.innerHTML = '';
      step = 0;
      nameOK = false;
      setTimeout(() => {
        addMessage("–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –¥–æ—Ä–æ–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å! –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –Ω–∞–π—Ç–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –æ —á–µ–ª–æ–≤–µ–∫–µ, –Ω–∞–ø–∏—à–∏—Ç–µ –µ–≥–æ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é. F-Achieve –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞–π—Ç–∏ –ª—é–±—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!");
      }, 200);
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const userText = input.value.trim();
      if (userText === '') return;

      addMessage(userText, 'user');
      input.value = '';

      setTimeout(() => {
        if (step === 0) {
          if (userText === "–ö—ç—Ç—Ä–∏–Ω –ü–∏—Ç–µ—Ä") {
            nameOK = true;
            addMessage("üëç");
            addMessage("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å1 (–ø–æ–¥—Å–∫–∞–∑–∫–∞: –ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è –ö—ç—Ç—Ä–∏–Ω)");
            step = 1;
          } else {
            addMessage("‚ùå –ò–º—è –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ. –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω.");
            step = -1;
          }
        } else if (!nameOK) {
          addMessage("‚õîÔ∏è –í—ã –Ω–µ –ø—Ä–æ—à–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é. –î–æ–ø—É—Å–∫ –∑–∞–∫—Ä—ã—Ç.");
        } else if (step === 1) {
          if (userText.toLowerCase() === password1) {
            addMessage("üëç");
            addMessage("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å2 (–ø–æ–¥—Å–∫–∞–∑–∫–∞: —ç—Ç–æ –∏–º—è —Å–µ—Å—Ç—Ä—ã –ö—ç—Ç—Ä–∏–Ω)");
            step = 2;
          } else {
            addMessage("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–µ—Ä–≤—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");
          }
        } else if (step === 2) {
          if (userText === password2) {
            addMessage("üëç");
            addMessage("–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è");
            addMessage("2x - 3 = 43");
            step = 3;
          } else {
            addMessage("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");
          }
        } else if (step === 3) {
          if (userText.toLowerCase() === password3) {
            addMessage("–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ!");
            setTimeout(() => {
              addMessage("–í–æ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ö—ç—Ç—Ä–∏–Ω –ü–∏—Ç–µ—Ä:  https://man-dev-design.github.io/Ketrinsdiary/Ketrindiary.html");
              step = 4;
            }, 800);
          } else {
            addMessage("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ç—Ä–µ—Ç–∏–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");
          }
        } else {
          addMessage("üîÅ –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –Ω–∞–∂–º–∏—Ç–µ '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É'.");
        }
      }, 600);
    });

    reset.addEventListener('click', startConversation);

    // Start on load
    startConversation();
  </script>

</body>
</html>
